{% extends 'src/_layouts/base.njk' %}

{% block intro %}
<section id="intro" class="mx-auto p-6 lg:p-10 hero-bg-image">
  <h2 class="max-w-prose text-5xl">
    {{ content | safe }}
  </h2>
</section>
{% endblock %}

{% block featuredPosts %}
{% set featuredPosts = collections.featuredPosts %}
{% set featuredPostsCount = featuredPosts | length %}
<section id="featured_posts" class="flex flex-col w-full gap-2 lg:gap-0 -mt-0.5">
      {% include "postlist-featured.njk" %}
  </section>
{% endblock %}

{% block portfolio %}
{% set portfolio = collections.work %}
  <section id="portfolio" reversed class="postlist m-6 lg:px-6 lg:py-0 gap-2 lg:mx-auto" style="counter-reset: start-from {{ (portfolio.length) + 1 }};">
  <h3 class="border p-6 rounded-3xl h-full text-5xl">
    Recent work
  </h3>
    {% include 'worklist.njk' %}
  </section>
{% endblock %}

{% block latestPosts %}
<hr>
{% set postslist = collections.posts | head(-1 * numberOfLatestPostsToShow) %}
<section id="other_posts" class="postlist m-6 lg:px-6 lg:py-0 gap-2 lg:mx-auto">
    {% set postsCount = collections.posts | length %}
    {% set morePosts = postsCount - numberOfLatestPostsToShow %}
    <div class="border rounded-3xl {% if morePosts > 0 %}col-span-3{% else %}col-span-full{% endif %}">
      {% include "postlist-lite.njk" %}
    </div>
    {% if numberOfLatestPostsToShow %}
      {% if morePosts > 0 %}
      <a href="/blog/" class="col-span-1">
        <h3 class="border p-6 mb-6 rounded-3xl h-full">
          See more in Blog
        </h3>
      </a>
      {% endif %}
    {% endif %}
</section>
{% endblock %}

