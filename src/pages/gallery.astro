---
import "../styles/gallery.scss";
import GalleryGrid from "@/components/GalleryGrid";
import Content from "@/layouts/content.astro";
import { getCollection } from "astro:content";
import TagsContainer from "@/components/TagsContainer";
const projects = await getCollection("work");
const postTags = projects.map(({ data }) => data.tags);
const uniqueTags = (): string[] => {
  let uniqueValues = [...new Set(postTags.map((arr) => arr).flat())];
  return uniqueValues as string[];
};

---
<Content title="Work">
  <div class="flex flex-col px-4 pb-24 md:px-0">
    <h1 class="mx-auto pt-14">Featured Work</h1>
    <div class="flex justify-center w-full my-8">
      <TagsContainer tags={uniqueTags()} />
    </div>
    <GalleryGrid collection={projects} />
  </div>
</Content>
